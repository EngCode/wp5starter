(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";jQuery(document).ready(function(e){e("#use_multiple_locations input#use_multiple_locations-on").change(function(){e(this).is(":checked")&&(e("#single-location-settings").slideToggle(),e("#multiple-locations-settings").slideToggle(),e(".open_247_wrapper").hide(),e(".default-setting").show(),e("#sl-settings").show(),e("#wpseo-local-permalinks").show(),e("#wpseo-local-admin_labels").show(),e("#wpseo-local-enhanced").show(),e("#opening-hours-hours").hide(),e("#wpseo-local-multiple-locations-notification").hide(),e("#wpseo-local-multiple-locations-notification").hide(),e("#location-coordinates-settings").hide())}),e("#use_multiple_locations input#use_multiple_locations-off").change(function(){e(this).is(":checked")&&(e("#single-location-settings").slideToggle(),e("#multiple-locations-settings").slideToggle(),e(".open_247_wrapper").show(),e("#sl-settings").hide(),e(".default-setting").hide(),e("#wpseo-local-permalinks").hide(),e("#wpseo-local-admin_labels").hide(),e("#wpseo-local-enhanced").hide(),e("#wpseo-local-multiple-locations-notification").show(),e("#location-coordinates-settings").show(),e("#hide_opening_hours input#hide_opening_hours-on").is(":checked")?e("#opening-hours-hours").hide():e("#opening-hours-hours").show())}),e("#hide_opening_hours-on").is(":checked")&&e("#opening-hours-hours, #opening-hours-settings").hide(),e("#hide_opening_hours input#hide_opening_hours-on").change(function(){e(this).is(":checked")&&(e("#opening-hours-hours, #opening-hours-settings").slideUp(),e("#use_multiple_locations-off").is(":checked")&&e("#opening-hours-hours").show())}),e("#hide_opening_hours input#hide_opening_hours-off").change(function(){e(this).is(":checked")&&(e("#opening-hours-hours, #opening-hours-settings").slideDown(),e("#use_multiple_locations-on").is(":checked")&&e("#opening-hours-hours").hide())}),e("#open_247-on, #open_247-off").change(function(){e("#use_multiple_locations").is(":checked")||e("#opening-hours-rows").slideToggle()}),e("#multiple_opening_hours-on, #multiple_opening_hours-off").change(function(){e(".opening-hours .opening-hours-second").slideToggle(),e(".opening-hours-second-description").slideToggle()}),e("#_wpseo_multiple_opening_hours").click(function(){e(this).is(":checked")?(e(".opening-hours .opening-hours-second").slideDown(),e(".opening-hours-second-description").slideDown()):(e(".opening-hours .opening-hours-second").slideUp(),e(".opening-hours-second-description").slideUp())}),e(".wpseo-toggle").change(function(){"false"===e(this).find(".wpseo-toggle-switch").attr("aria-checked")?e(this).find(".wpseo-toggle-switch").attr("aria-checked","true"):e(this).find(".wpseo-toggle-switch").attr("aria-checked","false"),"false"===e(this).find(".wpseo-toggle-feedback").attr("aria-checked")?e(this).find(".wpseo-toggle-feedback").attr("aria-checked","true").text(e(this).data("label-true")):e(this).find(".wpseo-toggle-feedback").attr("aria-checked","false").text(e(this).data("label-false"))}),e("#opening_hours_24h-on, #opening_hours_24h-off").change(function(){e("#opening-hours-container select").each(function(){e(this).find("option").each(function(){if(e("#opening_hours_24h-on").is(":checked"))"closed"!=e(this).val()&&e(this).text(e(this).val());else if("closed"!=e(this).val()){var o=e(this).val().split(":"),s=parseInt(o[0]),i=o[1],n="AM";s>=12&&(s>12&&(s-=12),n="PM"),0==s&&(s=12),e(this).text(s+":"+i+" "+n)}})})}),e("#_wpseo_format_24h, #_wpseo_format_12h").click(function(){e("#hide-opening-hours select").each(function(){e(this).find("option").each(function(){if(e("#_wpseo_format_24h").length>0&&e("#_wpseo_format_24h").is(":checked")||e("#_wpseo_format_12h").length>0&&!e("#_wpseo_format_12h").is(":checked"))"closed"!=e(this).val()&&e(this).text(e(this).val());else if("closed"!=e(this).val()){var o=e(this).val().split(":"),s=parseInt(o[0]),i=o[1],n="AM";s>=12&&(s>12&&(s-=12),n="PM"),0==s&&(s=12),e(this).text(s+":"+i+" "+n)}})})}),jQuery(".wpseo-local-metabox-content .wpseo-local-meta-section-link").on("click",function(e){e.preventDefault();var o=jQuery(this).attr("href"),s=jQuery(o);jQuery(".wpseo-local-metabox-menu li").removeClass("active").find("[role='tab']").removeClass("yoast-active-tab"),jQuery(".wpseo-local-metabox-content .wpseo-local-meta-section.active").removeClass("active"),s.addClass("active"),jQuery(this).parent("li").addClass("active").find("[role='tab']").addClass("yoast-active-tab")}),e("#_wpseo_open_247").on("click",function(){e(this).is(":checked")?e("#opening-hours-rows, .opening-hours-wrap").slideUp():e("#opening-hours-rows, .opening-hours-wrap").slideDown()}),e(".wpseo_open_24h input").on("click",function(o){e(this).is(":checked")?e("select",e(".openinghours-wrapper",e(this).closest(".opening-hours"))).attr("disabled",!0):e("select",e(".openinghours-wrapper",e(this).closest(".opening-hours"))).attr("disabled",!1)}),e(".widget-content").on("click","#wpseo-checkbox-multiple-locations-wrapper input[type=checkbox]",function(){wpseo_show_all_locations_selectbox(e(this))}),e("#wpseo_locations").length>0&&e("#wpseo_meta").length>0&&e("#wpseo_locations").insertBefore(e("#wpseo_meta")),e(".openinghours_from").change(function(){var o=e(this).attr("id").replace("_from","_to_wrapper"),s=e(this).attr("id").replace("_from","_second");"closed"==e(this).val()?(e("#"+o).css("display","none"),e("#"+s).css("display","none")):(e("#"+o).css("display","inline"),e("#"+s).css("display","block"))}).change(),e(".openinghours_from_second").change(function(){var o=e(this).attr("id").replace("_from","_to_wrapper");"closed"==e(this).val()?e("#"+o).css("display","none"):e("#"+o).css("display","inline")}).change(),e(".openinghours_to").change(function(){var o=e(this).attr("id").replace("_to","_from"),s=e(this).attr("id").replace("_to","_to_wrapper");"closed"==e(this).val()&&(e("#"+s).css("display","none"),e("#"+o).val("closed"))}),e(".openinghours_to_second").change(function(){var o=e(this).attr("id").replace("_to","_from"),s=e(this).attr("id").replace("_to","_to_wrapper");"closed"==e(this).val()&&(e("#"+s).css("display","none"),e("#"+o).val("closed"))}),e(".set_custom_images").length>0&&"undefined"!=typeof wp&&wp.media&&wp.media.editor&&e(".wrap, #wpseo-local-metabox").on("click",".set_custom_images",function(o){o.preventDefault();var s=e(this),i=s.attr("data-id");return wp.media.editor.send.attachment=function(o,s){if(s.hasOwnProperty("sizes"))var n=s.sizes[o.size].url;else n=s.url;e("#"+i+"_image_container").attr("src",n).show(),e(".wpseo-local-"+i+"-wrapper .wpseo-local-hide-button").removeClass("hidden"),e("#hidden_"+i).attr("value",s.id)},wp.media.editor.open(s),!1}),e(".remove_custom_image").on("click",function(o){o.preventDefault();var s=e(this).attr("data-id");e("#"+s+"_image_container").attr("src","").hide(),e("#hidden_"+s).attr("value",""),e(".wpseo-local-"+s+"-wrapper .wpseo-local-hide-button").addClass("hidden")}),e("#wpseo_copy_from_location").change(function(){var o=e(this).val();""!=o&&e.post(wpseo_local_data.ajaxurl,{location_id:o,security:wpseo_local_data.sec_nonce,action:"wpseo_copy_location"},function(o){0==o.charAt(o.length-1)?o=o.slice(0,-1):"-1"==o.substring(o.length-2)&&(o=o.slice(0,-2));var s=e.parseJSON(o);if("true"==s.success||1==s.success)for(var i in s.location){var n=s.location[i];null!=n&&""!=n&&void 0!==n&&("is_postal_address"==i||"multiple_opening_hours"==i?"1"==n&&(e("#wpseo_"+i).attr("checked","checked"),e(".opening-hours .opening-hour-second").slideDown()):i.indexOf("opening_hours")>-1?e("#"+i).val(n):e("#wpseo_"+i).val(n))}})})}),window.wpseo_show_all_locations_selectbox=function(e){$=jQuery,$obj=$(e);var o=$obj.parents(".widget-inside"),s=$("#wpseo-locations-wrapper",o);$obj.is(":checked")?s.slideUp():s.slideDown()};

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9zcmMvd3Atc2VvLWxvY2FsLWdsb2JhbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTthQ0FBLE9BQVEsVUFBVyxNQUFPLFNBQVUsR0FDbkMsRUFBRywyREFBNEQsT0FBUSxXQUNqRSxFQUFHLE1BQU8sR0FBSSxjQUNsQixFQUFHLDZCQUE4QixjQUNqQyxFQUFHLGdDQUFpQyxjQUNwQyxFQUFHLHFCQUFzQixPQUN6QixFQUFHLG9CQUFxQixPQUN4QixFQUFHLGdCQUFpQixPQUNwQixFQUFHLDJCQUE0QixPQUMvQixFQUFHLDZCQUE4QixPQUNqQyxFQUFHLHlCQUEwQixPQUM3QixFQUFHLHdCQUF5QixPQUM1QixFQUFHLGdEQUFpRCxPQUNwRCxFQUFHLGdEQUFpRCxPQUNwRCxFQUFHLGtDQUFtQyxVQUl4QyxFQUFHLDREQUE2RCxPQUFRLFdBQ2xFLEVBQUcsTUFBTyxHQUFJLGNBQ2xCLEVBQUcsNkJBQThCLGNBQ2pDLEVBQUcsZ0NBQWlDLGNBQ3BDLEVBQUcscUJBQXNCLE9BQ3pCLEVBQUcsZ0JBQWlCLE9BQ3BCLEVBQUcsb0JBQXFCLE9BQ3hCLEVBQUcsMkJBQTRCLE9BQy9CLEVBQUcsNkJBQThCLE9BQ2pDLEVBQUcseUJBQTBCLE9BQzdCLEVBQUcsZ0RBQWlELE9BQ3BELEVBQUcsa0NBQW1DLE9BRWpDLEVBQUcsbURBQW9ELEdBQUksWUFDL0QsRUFBRyx3QkFBeUIsT0FFNUIsRUFBRyx3QkFBeUIsVUFLMUIsRUFBRywwQkFBMkIsR0FBSSxhQUN0QyxFQUFHLGlEQUFrRCxPQUd0RCxFQUFHLG1EQUFvRCxPQUFRLFdBQ3pELEVBQUcsTUFBTyxHQUFJLGNBQ2xCLEVBQUcsaURBQWtELFVBQ2hELEVBQUcsK0JBQWdDLEdBQUksYUFDM0MsRUFBRyx3QkFBeUIsVUFLL0IsRUFBRyxvREFBcUQsT0FBUSxXQUMxRCxFQUFHLE1BQU8sR0FBSSxjQUNsQixFQUFHLGlEQUFrRCxZ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LE1BQU8sR0FBSSxHQUN5QixNQUF6QyxFQUFPLFVBQVcsRUFBTyxPQUFTLEtBQzdDLEVBQVMsRUFBTyxNQUFPLEdBQUksSUFHNUIsSUFBSSxFQUFPLEVBQUUsVUFBVyxHQUN4QixHQUFxQixRQUFoQixFQUFLLFNBQXFDLEdBQWhCLEVBQUssUUFFbkMsSUFBTSxJQUFJLEtBQUssRUFBSyxTQUFXLENBQzlCLElBQUksRUFBUSxFQUFLLFNBQVUsR0FFYixNQUFULEdBQTBCLElBQVQsUUFBK0IsSUFBVCxJQUNqQyxxQkFBTCxHQUFpQywwQkFBTCxFQUNsQixLQUFULElBQ0osRUFBRyxVQUFZLEdBQUksS0FBTSxVQUFXLFdBQ3BDLEVBQUcsdUNBQXdDLGFBRWpDLEVBQUUsUUFBUyxrQkFBcUIsRUFDM0MsRUFBRyxJQUFNLEdBQUksSUFBSyxHQUVsQixFQUFHLFVBQVksR0FBSSxJQUFLLFdBUy9CLE9BQU8sbUNBQXFDLFNBQVUsR0FDckQsRUFBSSxPQUVKLEtBQU8sRUFBRyxHQUNWLElBQUksRUFBUyxLQUFLLFFBQVMsa0JBQ3ZCLEVBQW9CLEVBQUcsMkJBQTRCLEdBRWxELEtBQUssR0FBSSxZQUNiLEVBQWtCLFVBRWxCLEVBQWtCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwialF1ZXJ5KCBkb2N1bWVudCApLnJlYWR5KCBmdW5jdGlvbiggJCApIHtcblx0JCggXCIjdXNlX211bHRpcGxlX2xvY2F0aW9ucyBpbnB1dCN1c2VfbXVsdGlwbGVfbG9jYXRpb25zLW9uXCIgKS5jaGFuZ2UoIGZ1bmN0aW9uKCkge1xuXHRcdGlmICggJCggdGhpcyApLmlzKCBcIjpjaGVja2VkXCIgKSApIHtcblx0XHRcdCQoIFwiI3NpbmdsZS1sb2NhdGlvbi1zZXR0aW5nc1wiICkuc2xpZGVUb2dnbGUoKTtcblx0XHRcdCQoIFwiI211bHRpcGxlLWxvY2F0aW9ucy1zZXR0aW5nc1wiICkuc2xpZGVUb2dnbGUoKTtcblx0XHRcdCQoIFwiLm9wZW5fMjQ3X3dyYXBwZXJcIiApLmhpZGUoKTtcblx0XHRcdCQoIFwiLmRlZmF1bHQtc2V0dGluZ1wiICkuc2hvdygpO1xuXHRcdFx0JCggXCIjc2wtc2V0dGluZ3NcIiApLnNob3coKTtcblx0XHRcdCQoIFwiI3dwc2VvLWxvY2FsLXBlcm1hbGlua3NcIiApLnNob3coKTtcblx0XHRcdCQoIFwiI3dwc2VvLWxvY2FsLWFkbWluX2xhYmVsc1wiICkuc2hvdygpO1xuXHRcdFx0JCggXCIjd3BzZW8tbG9jYWwtZW5oYW5jZWRcIiApLnNob3coKTtcblx0XHRcdCQoIFwiI29wZW5pbmctaG91cnMtaG91cnNcIiApLmhpZGUoKTtcblx0XHRcdCQoIFwiI3dwc2VvLWxvY2FsLW11bHRpcGxlLWxvY2F0aW9ucy1ub3RpZmljYXRpb25cIiApLmhpZGUoKTtcblx0XHRcdCQoIFwiI3dwc2VvLWxvY2FsLW11bHRpcGxlLWxvY2F0aW9ucy1ub3RpZmljYXRpb25cIiApLmhpZGUoKTtcblx0XHRcdCQoIFwiI2xvY2F0aW9uLWNvb3JkaW5hdGVzLXNldHRpbmdzXCIgKS5oaWRlKCk7XG5cdFx0fVxuXHR9ICk7XG5cblx0JCggXCIjdXNlX211bHRpcGxlX2xvY2F0aW9ucyBpbnB1dCN1c2VfbXVsdGlwbGVfbG9jYXRpb25zLW9mZlwiICkuY2hhbmdlKCBmdW5jdGlvbigpIHtcblx0XHRpZiAoICQoIHRoaXMgKS5pcyggXCI6Y2hlY2tlZFwiICkgKSB7XG5cdFx0XHQkKCBcIiNzaW5nbGUtbG9jYXRpb24tc2V0dGluZ3NcIiApLnNsaWRlVG9nZ2xlKCk7XG5cdFx0XHQkKCBcIiNtdWx0aXBsZS1sb2NhdGlvbnMtc2V0dGluZ3NcIiApLnNsaWRlVG9nZ2xlKCk7XG5cdFx0XHQkKCBcIi5vcGVuXzI0N193cmFwcGVyXCIgKS5zaG93KCk7XG5cdFx0XHQkKCBcIiNzbC1zZXR0aW5nc1wiICkuaGlkZSgpO1xuXHRcdFx0JCggXCIuZGVmYXVsdC1zZXR0aW5nXCIgKS5oaWRlKCk7XG5cdFx0XHQkKCBcIiN3cHNlby1sb2NhbC1wZXJtYWxpbmtzXCIgKS5oaWRlKCk7XG5cdFx0XHQkKCBcIiN3cHNlby1sb2NhbC1hZG1pbl9sYWJlbHNcIiApLmhpZGUoKTtcblx0XHRcdCQoIFwiI3dwc2VvLWxvY2FsLWVuaGFuY2VkXCIgKS5oaWRlKCk7XG5cdFx0XHQkKCBcIiN3cHNlby1sb2NhbC1tdWx0aXBsZS1sb2NhdGlvbnMtbm90aWZpY2F0aW9uXCIgKS5zaG93KCk7XG5cdFx0XHQkKCBcIiNsb2NhdGlvbi1jb29yZGluYXRlcy1zZXR0aW5nc1wiICkuc2hvdygpO1xuXG5cdFx0XHRpZiAoICQoIFwiI2hpZGVfb3BlbmluZ19ob3VycyBpbnB1dCNoaWRlX29wZW5pbmdfaG91cnMtb25cIiApLmlzKCBcIjpjaGVja2VkXCIgKSApIHtcblx0XHRcdFx0JCggXCIjb3BlbmluZy1ob3Vycy1ob3Vyc1wiICkuaGlkZSgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JCggXCIjb3BlbmluZy1ob3Vycy1ob3Vyc1wiICkuc2hvdygpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSApO1xuXG5cdGlmICggJCggXCIjaGlkZV9vcGVuaW5nX2hvdXJzLW9uXCIgKS5pcyggXCI6Y2hlY2tlZFwiICkgKSB7XG5cdFx0JCggXCIjb3BlbmluZy1ob3Vycy1ob3VycywgI29wZW5pbmctaG91cnMtc2V0dGluZ3NcIiApLmhpZGUoKTtcblx0fVxuXG5cdCQoIFwiI2hpZGVfb3BlbmluZ19ob3VycyBpbnB1dCNoaWRlX29wZW5pbmdfaG91cnMtb25cIiApLmNoYW5nZSggZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCAkKCB0aGlzICkuaXMoIFwiOmNoZWNrZWRcIiApICkge1xuXHRcdFx0JCggXCIjb3BlbmluZy1ob3Vycy1ob3VycywgI29wZW5pbmctaG91cnMtc2V0dGluZ3NcIiApLnNsaWRlVXAoKTtcblx0XHRcdGlmICggJCggXCIjdXNlX211bHRpcGxlX2xvY2F0aW9ucy1vZmZcIiApLmlzKCBcIjpjaGVja2VkXCIgKSApIHtcblx0XHRcdFx0JCggXCIjb3BlbmluZy1ob3Vycy1ob3Vyc1wiICkuc2hvdygpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSApO1xuXG5cdCQoIFwiI2hpZGVfb3BlbmluZ19ob3VycyBpbnB1dCNoaWRlX29wZW5pbmdfaG91cnMtb2ZmXCIgKS5jaGFuZ2UoIGZ1bmN0aW9uKCkge1xuXHRcdGlmICggJCggdGhpcyApLmlzKCBcIjpjaGVja2VkXCIgKSApIHtcblx0XHRcdCQoIFwiI29wZW5pbmctaG91cnMtaG91cnMsICNvcGVuaW5nLWhvdXJzLXNldHRpbmdzXCIgKS5zbGlkZURvd24oKTtcblx0XHRcdGlmICggJCggXCIjdXNlX211bHRpcGxlX2xvY2F0aW9ucy1vblwiICkuaXMoIFwiOmNoZWNrZWRcIiApICkge1xuXHRcdFx0XHQkKCBcIiNvcGVuaW5nLWhvdXJzLWhvdXJzXCIgKS5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9ICk7XG5cblx0Ly8gR2VuZXJhbCBTZXR0aW5nczogRW5hYmxlL2Rpc2FibGUgT3BlbiAyNC83IG9uIGNsaWNrXG5cdCQoIFwiI29wZW5fMjQ3LW9uLCAjb3Blbl8yNDctb2ZmXCIgKS5jaGFuZ2UoIGZ1bmN0aW9uKCkge1xuXHRcdGlmICggISAkKCBcIiN1c2VfbXVsdGlwbGVfbG9jYXRpb25zXCIgKS5pcyggXCI6Y2hlY2tlZFwiICkgKSB7XG5cdFx0XHQkKCBcIiNvcGVuaW5nLWhvdXJzLXJvd3NcIiApLnNsaWRlVG9nZ2xlKCk7XG5cdFx0fVxuXHR9ICk7XG5cblx0Ly8gQ2hhbmdlIG11bHRpcGxlIG9wZW5pbmcgaG91cnMgb24gc2luZ2xlIGxvY2F0aW9uIHNldHVwXG5cdCQoIFwiI211bHRpcGxlX29wZW5pbmdfaG91cnMtb24sICNtdWx0aXBsZV9vcGVuaW5nX2hvdXJzLW9mZlwiICkuY2hhbmdlKCBmdW5jdGlvbigpIHtcblx0XHQkKCBcIi5vcGVuaW5nLWhvdXJzIC5vcGVuaW5nLWhvdXJzLXNlY29uZFwiICkuc2xpZGVUb2dnbGUoKTtcblx0XHQkKCBcIi5vcGVuaW5nLWhvdXJzLXNlY29uZC1kZXNjcmlwdGlvblwiICkuc2xpZGVUb2dnbGUoKTtcblx0fSApO1xuXG5cdC8vIENoYW5nZSBtdWx0aXBsZSBvcGVuaW5nIGhvdXJzIG9uIG11bHRpcGxlIGxvY2F0aW9ucyBzZXR1cFxuXHQkKCBcIiNfd3BzZW9fbXVsdGlwbGVfb3BlbmluZ19ob3Vyc1wiICkuY2xpY2soIGZ1bmN0aW9uKCkge1xuXHRcdGlmICggJCggdGhpcyApLmlzKCBcIjpjaGVja2VkXCIgKSApIHtcblx0XHRcdCQoIFwiLm9wZW5pbmctaG91cnMgLm9wZW5pbmctaG91cnMtc2Vjb25kXCIgKS5zbGlkZURvd24oKTtcblx0XHRcdCQoIFwiLm9wZW5pbmctaG91cnMtc2Vjb25kLWRlc2NyaXB0aW9uXCIgKS5zbGlkZURvd24oKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0JCggXCIub3BlbmluZy1ob3VycyAub3BlbmluZy1ob3Vycy1zZWNvbmRcIiApLnNsaWRlVXAoKTtcblx0XHRcdCQoIFwiLm9wZW5pbmctaG91cnMtc2Vjb25kLWRlc2NyaXB0aW9uXCIgKS5zbGlkZVVwKCk7XG5cdFx0fVxuXHR9ICk7XG5cblx0JCggXCIud3BzZW8tdG9nZ2xlXCIgKS5jaGFuZ2UoIGZ1bmN0aW9uKCkge1xuXHRcdC8vIFN3aXRjaCBhcmlhLWNoZWNrZWQgb24gY2hhbmdlIGZvciBzdHlsaW5nIHB1cnBvc2VzLlxuXHRcdGlmICggJCggdGhpcyApLmZpbmQoIFwiLndwc2VvLXRvZ2dsZS1zd2l0Y2hcIiApLmF0dHIoIFwiYXJpYS1jaGVja2VkXCIgKSA9PT0gXCJmYWxzZVwiICkge1xuXHRcdFx0JCggdGhpcyApLmZpbmQoIFwiLndwc2VvLXRvZ2dsZS1zd2l0Y2hcIiApLmF0dHIoIFwiYXJpYS1jaGVja2VkXCIsIFwidHJ1ZVwiICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCQoIHRoaXMgKS5maW5kKCBcIi53cHNlby10b2dnbGUtc3dpdGNoXCIgKS5hdHRyKCBcImFyaWEtY2hlY2tlZFwiLCBcImZhbHNlXCIgKTtcblx0XHR9XG5cdFx0Ly8gU3dpdGNoIGFyaWEtY2hlY2tlZCBvbiBjaGFuZ2UgYWxvbmcgd2l0aCB0aGUgdGV4dCBzaG93biBpbnNpZGUgdGhlIGZlZWRiYWNrIGxhYmVsLlxuXHRcdGlmICggJCggdGhpcyApLmZpbmQoIFwiLndwc2VvLXRvZ2dsZS1mZWVkYmFja1wiICkuYXR0ciggXCJhcmlhLWNoZWNrZWRcIiApID09PSBcImZhbHNlXCIgKSB7XG5cdFx0XHQkKCB0aGlzICkuZmluZCggXCIud3BzZW8tdG9nZ2xlLWZlZWRiYWNrXCIgKS5hdHRyKCBcImFyaWEtY2hlY2tlZFwiLCBcInRydWVcIiApLnRleHQoICQoIHRoaXMgKS5kYXRhKCBcImxhYmVsLXRydWVcIiApICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCQoIHRoaXMgKS5maW5kKCBcIi53cHNlby10b2dnbGUtZmVlZGJhY2tcIiApLmF0dHIoIFwiYXJpYS1jaGVja2VkXCIsIFwiZmFsc2VcIiApLnRleHQoICQoIHRoaXMgKS5kYXRhKCBcImxhYmVsLWZhbHNlXCIgKSApO1xuXHRcdH1cblx0fSApO1xuXG5cdCQoIFwiI29wZW5pbmdfaG91cnNfMjRoLW9uLCAjb3BlbmluZ19ob3Vyc18yNGgtb2ZmXCIgKS5jaGFuZ2UoIGZ1bmN0aW9uKCkge1xuXHRcdCQoIFwiI29wZW5pbmctaG91cnMtY29udGFpbmVyIHNlbGVjdFwiICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHQkKCB0aGlzICkuZmluZCggXCJvcHRpb25cIiApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoICQoIFwiI29wZW5pbmdfaG91cnNfMjRoLW9uXCIgKS5pcyggXCI6Y2hlY2tlZFwiICkgKSB7XG5cdFx0XHRcdFx0Ly8gVXNlIDI0IGhvdXJcblx0XHRcdFx0XHRpZiAoICQoIHRoaXMgKS52YWwoKSAhPSBcImNsb3NlZFwiICkge1xuXHRcdFx0XHRcdFx0JCggdGhpcyApLnRleHQoICQoIHRoaXMgKS52YWwoKSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBVc2UgMTIgaG91clxuXHRcdFx0XHRcdGlmICggJCggdGhpcyApLnZhbCgpICE9IFwiY2xvc2VkXCIgKSB7XG5cdFx0XHRcdFx0XHQvLyBTcGxpdCB0aGUgc3RyaW5nIGJldHdlZW4gaG91cnMgYW5kIG1pbnV0ZXNcblx0XHRcdFx0XHRcdHZhciB0aW1lID0gJCggdGhpcyApLnZhbCgpLnNwbGl0KCBcIjpcIiApO1xuXG5cdFx0XHRcdFx0XHQvLyB1c2UgcGFyc2VJbnQgdG8gcmVtb3ZlIGxlYWRpbmcgemVyb2VzLlxuXHRcdFx0XHRcdFx0dmFyIGhvdXIgPSBwYXJzZUludCggdGltZVsgMCBdICk7XG5cdFx0XHRcdFx0XHR2YXIgbWludXRlcyA9IHRpbWVbIDEgXTtcblx0XHRcdFx0XHRcdHZhciBzdWZmaXggPSBcIkFNXCI7XG5cdFx0XHRcdFx0XHQvLyBpZiB0aGUgaG91cnMgbnVtYmVyIGlzIGdyZWF0ZXIgdGhhbiAxMiwgc3VidHJhY3QgMTIuXG5cdFx0XHRcdFx0XHRpZiAoIGhvdXIgPj0gMTIgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggaG91ciA+IDEyICkge1xuXHRcdFx0XHRcdFx0XHRcdGhvdXIgPSBob3VyIC0gMTI7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0c3VmZml4ID0gXCJQTVwiO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKCBob3VyID09IDAgKSB7XG5cdFx0XHRcdFx0XHRcdGhvdXIgPSAxMjtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0JCggdGhpcyApLnRleHQoIGhvdXIgKyBcIjpcIiArIG1pbnV0ZXMgKyBcIiBcIiArIHN1ZmZpeCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH0gKTtcblx0fSApO1xuXG5cdC8vIFRoZSAyNGggZm9ybWF0IG9uIHNpbmdsZSBsb2NhdGlvbiBwYWdlIChpZiBtdWx0aXBsZSBsb2NhdGlvbnMgaXMgc2V0KVxuXHQkKCBcIiNfd3BzZW9fZm9ybWF0XzI0aCwgI193cHNlb19mb3JtYXRfMTJoXCIgKS5jbGljayggZnVuY3Rpb24oKSB7XG5cdFx0JCggXCIjaGlkZS1vcGVuaW5nLWhvdXJzIHNlbGVjdFwiICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHQkKCB0aGlzICkuZmluZCggXCJvcHRpb25cIiApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIChcblx0XHRcdFx0XHQkKCBcIiNfd3BzZW9fZm9ybWF0XzI0aFwiICkubGVuZ3RoID4gMCAmJiAkKCBcIiNfd3BzZW9fZm9ybWF0XzI0aFwiICkuaXMoIFwiOmNoZWNrZWRcIiApXG5cdFx0XHRcdCkgfHwgKFxuXHRcdFx0XHRcdChcblx0XHRcdFx0XHRcdCQoIFwiI193cHNlb19mb3JtYXRfMTJoXCIgKS5sZW5ndGggPiAwICYmICEgJCggXCIjX3dwc2VvX2Zvcm1hdF8xMmhcIiApLmlzKCBcIjpjaGVja2VkXCIgKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KSApIHtcblx0XHRcdFx0XHQvLyBVc2UgMjQgaG91clxuXHRcdFx0XHRcdGlmICggJCggdGhpcyApLnZhbCgpICE9IFwiY2xvc2VkXCIgKSB7XG5cdFx0XHRcdFx0XHQkKCB0aGlzICkudGV4dCggJCggdGhpcyApLnZhbCgpICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIFVzZSAxMiBob3VyXG5cdFx0XHRcdFx0aWYgKCAkKCB0aGlzICkudmFsKCkgIT0gXCJjbG9zZWRcIiApIHtcblx0XHRcdFx0XHRcdC8vIFNwbGl0IHRoZSBzdHJpbmcgYmV0d2VlbiBob3VycyBhbmQgbWludXRlc1xuXHRcdFx0XHRcdFx0dmFyIHRpbWUgPSAkKCB0aGlzICkudmFsKCkuc3BsaXQoIFwiOlwiICk7XG5cblx0XHRcdFx0XHRcdC8vIHVzZSBwYXJzZUludCB0byByZW1vdmUgbGVhZGluZyB6ZXJvZXMuXG5cdFx0XHRcdFx0XHR2YXIgaG91ciA9IHBhcnNlSW50KCB0aW1lWyAwIF0gKTtcblx0XHRcdFx0XHRcdHZhciBtaW51dGVzID0gdGltZVsgMSBdO1xuXHRcdFx0XHRcdFx0dmFyIHN1ZmZpeCA9IFwiQU1cIjtcblx0XHRcdFx0XHRcdC8vIGlmIHRoZSBob3VycyBudW1iZXIgaXMgZ3JlYXRlciB0aGFuIDEyLCBzdWJ0cmFjdCAxMi5cblx0XHRcdFx0XHRcdGlmICggaG91ciA+PSAxMiApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBob3VyID4gMTIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0aG91ciA9IGhvdXIgLSAxMjtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRzdWZmaXggPSBcIlBNXCI7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIGhvdXIgPT0gMCApIHtcblx0XHRcdFx0XHRcdFx0aG91ciA9IDEyO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQkKCB0aGlzICkudGV4dCggaG91ciArIFwiOlwiICsgbWludXRlcyArIFwiIFwiICsgc3VmZml4ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSApO1xuXHR9ICk7XG5cblx0Ly8gTXVsdGlwbGUgbG9jYXRpb3NuIG1ldGFib3hlcyB0YWItbWVudVxuXHR2YXIgdGFiTGlua3MgPSBqUXVlcnkoIFwiLndwc2VvLWxvY2FsLW1ldGFib3gtY29udGVudCAud3BzZW8tbG9jYWwtbWV0YS1zZWN0aW9uLWxpbmtcIiApO1xuXHR0YWJMaW5rcy5vbiggXCJjbGlja1wiLCBmdW5jdGlvbiggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHR2YXIgdGFyZ2V0VGFiID0galF1ZXJ5KCB0aGlzICkuYXR0ciggXCJocmVmXCIgKTtcblx0XHR2YXIgdGFyZ2V0VGFiRWxlbWVudCA9IGpRdWVyeSggdGFyZ2V0VGFiICk7XG5cblx0XHRqUXVlcnkoIFwiLndwc2VvLWxvY2FsLW1ldGFib3gtbWVudSBsaVwiIClcblx0XHRcdC5yZW1vdmVDbGFzcyggXCJhY3RpdmVcIiApXG5cdFx0XHQuZmluZCggXCJbcm9sZT0ndGFiJ11cIiApLnJlbW92ZUNsYXNzKCBcInlvYXN0LWFjdGl2ZS10YWJcIiApO1xuXG5cdFx0alF1ZXJ5KCBcIi53cHNlby1sb2NhbC1tZXRhYm94LWNvbnRlbnQgLndwc2VvLWxvY2FsLW1ldGEtc2VjdGlvbi5hY3RpdmVcIiApLnJlbW92ZUNsYXNzKCBcImFjdGl2ZVwiICk7XG5cblx0XHR0YXJnZXRUYWJFbGVtZW50LmFkZENsYXNzKCBcImFjdGl2ZVwiICk7XG5cblx0XHRqUXVlcnkoIHRoaXMgKS5wYXJlbnQoIFwibGlcIiApXG5cdFx0XHQuYWRkQ2xhc3MoIFwiYWN0aXZlXCIgKVxuXHRcdFx0LmZpbmQoIFwiW3JvbGU9J3RhYiddXCIgKS5hZGRDbGFzcyggXCJ5b2FzdC1hY3RpdmUtdGFiXCIgKTtcblx0fSApO1xuXG5cdC8vIFNpbmdsZSBMb2NhdGlvbjogRW5hYmxlL2Rpc2FibGUgT3BlbiAyNC83IG9uIGNsaWNrXG5cdCQoIFwiI193cHNlb19vcGVuXzI0N1wiICkub24oIFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG5cdFx0bWF5YmVDbG9zZU9wZW5pbmdIb3VycyggdGhpcyApO1xuXHR9ICk7XG5cblx0Ly8gRGlzYWJsZSBob3VycyAyNC83IG9uIGNsaWNrXG5cdCQoIFwiLndwc2VvX29wZW5fMjRoIGlucHV0XCIgKS5vbiggXCJjbGlja1wiLCBmdW5jdGlvbiggZSApIHtcblx0XHRpZiAoICQoIHRoaXMgKS5pcyggXCI6Y2hlY2tlZFwiICkgKSB7XG5cdFx0XHQkKCBcInNlbGVjdFwiLCAkKCBcIi5vcGVuaW5naG91cnMtd3JhcHBlclwiLCAkKCB0aGlzICkuY2xvc2VzdCggXCIub3BlbmluZy1ob3Vyc1wiICkgKSApLmF0dHIoIFwiZGlzYWJsZWRcIiwgdHJ1ZSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkKCBcInNlbGVjdFwiLCAkKCBcIi5vcGVuaW5naG91cnMtd3JhcHBlclwiLCAkKCB0aGlzICkuY2xvc2VzdCggXCIub3BlbmluZy1ob3Vyc1wiICkgKSApLmF0dHIoIFwiZGlzYWJsZWRcIiwgZmFsc2UgKTtcblx0XHR9XG5cdH0gKTtcblxuXHRmdW5jdGlvbiBtYXliZUNsb3NlT3BlbmluZ0hvdXJzKCBlbGVtICkge1xuXHRcdGlmICggJCggZWxlbSApLmlzKCBcIjpjaGVja2VkXCIgKSApIHtcblx0XHRcdCQoIFwiI29wZW5pbmctaG91cnMtcm93cywgLm9wZW5pbmctaG91cnMtd3JhcFwiICkuc2xpZGVVcCgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkKCBcIiNvcGVuaW5nLWhvdXJzLXJvd3MsIC5vcGVuaW5nLWhvdXJzLXdyYXBcIiApLnNsaWRlRG93bigpO1xuXHRcdH1cblx0fVxuXG5cdCQoIFwiLndpZGdldC1jb250ZW50XCIgKS5vbiggXCJjbGlja1wiLCBcIiN3cHNlby1jaGVja2JveC1tdWx0aXBsZS1sb2NhdGlvbnMtd3JhcHBlciBpbnB1dFt0eXBlPWNoZWNrYm94XVwiLCBmdW5jdGlvbigpIHtcblx0XHR3cHNlb19zaG93X2FsbF9sb2NhdGlvbnNfc2VsZWN0Ym94KCAkKCB0aGlzICkgKTtcblx0fSApO1xuXG5cdC8vIFNob3cgbG9jYXRpb25zIG1ldGFib3ggYmVmb3JlIFdQIFNFTyBtZXRhYm94XG5cdGlmICggJCggXCIjd3BzZW9fbG9jYXRpb25zXCIgKS5sZW5ndGggPiAwICYmICQoIFwiI3dwc2VvX21ldGFcIiApLmxlbmd0aCA+IDAgKSB7XG5cdFx0JCggXCIjd3BzZW9fbG9jYXRpb25zXCIgKS5pbnNlcnRCZWZvcmUoICQoIFwiI3dwc2VvX21ldGFcIiApICk7XG5cdH1cblxuXHQkKCBcIi5vcGVuaW5naG91cnNfZnJvbVwiICkuY2hhbmdlKCBmdW5jdGlvbigpIHtcblx0XHR2YXIgdG9faWQgPSAkKCB0aGlzICkuYXR0ciggXCJpZFwiICkucmVwbGFjZSggXCJfZnJvbVwiLCBcIl90b193cmFwcGVyXCIgKTtcblx0XHR2YXIgc2Vjb25kX2lkID0gJCggdGhpcyApLmF0dHIoIFwiaWRcIiApLnJlcGxhY2UoIFwiX2Zyb21cIiwgXCJfc2Vjb25kXCIgKTtcblxuXHRcdGlmICggJCggdGhpcyApLnZhbCgpID09IFwiY2xvc2VkXCIgKSB7XG5cdFx0XHQkKCBcIiNcIiArIHRvX2lkICkuY3NzKCBcImRpc3BsYXlcIiwgXCJub25lXCIgKTtcblx0XHRcdCQoIFwiI1wiICsgc2Vjb25kX2lkICkuY3NzKCBcImRpc3BsYXlcIiwgXCJub25lXCIgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0JCggXCIjXCIgKyB0b19pZCApLmNzcyggXCJkaXNwbGF5XCIsIFwiaW5saW5lXCIgKTtcblx0XHRcdCQoIFwiI1wiICsgc2Vjb25kX2lkICkuY3NzKCBcImRpc3BsYXlcIiwgXCJibG9ja1wiICk7XG5cdFx0fVxuXHR9ICkuY2hhbmdlKCk7XG5cdCQoIFwiLm9wZW5pbmdob3Vyc19mcm9tX3NlY29uZFwiICkuY2hhbmdlKCBmdW5jdGlvbigpIHtcblx0XHR2YXIgdG9faWQgPSAkKCB0aGlzICkuYXR0ciggXCJpZFwiICkucmVwbGFjZSggXCJfZnJvbVwiLCBcIl90b193cmFwcGVyXCIgKTtcblxuXHRcdGlmICggJCggdGhpcyApLnZhbCgpID09IFwiY2xvc2VkXCIgKSB7XG5cdFx0XHQkKCBcIiNcIiArIHRvX2lkICkuY3NzKCBcImRpc3BsYXlcIiwgXCJub25lXCIgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0JCggXCIjXCIgKyB0b19pZCApLmNzcyggXCJkaXNwbGF5XCIsIFwiaW5saW5lXCIgKTtcblx0XHR9XG5cdH0gKS5jaGFuZ2UoKTtcblx0JCggXCIub3BlbmluZ2hvdXJzX3RvXCIgKS5jaGFuZ2UoIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBmcm9tX2lkID0gJCggdGhpcyApLmF0dHIoIFwiaWRcIiApLnJlcGxhY2UoIFwiX3RvXCIsIFwiX2Zyb21cIiApO1xuXHRcdHZhciB0b19pZCA9ICQoIHRoaXMgKS5hdHRyKCBcImlkXCIgKS5yZXBsYWNlKCBcIl90b1wiLCBcIl90b193cmFwcGVyXCIgKTtcblx0XHRpZiAoICQoIHRoaXMgKS52YWwoKSA9PSBcImNsb3NlZFwiICkge1xuXHRcdFx0JCggXCIjXCIgKyB0b19pZCApLmNzcyggXCJkaXNwbGF5XCIsIFwibm9uZVwiICk7XG5cdFx0XHQkKCBcIiNcIiArIGZyb21faWQgKS52YWwoIFwiY2xvc2VkXCIgKTtcblx0XHR9XG5cdH0gKTtcblx0JCggXCIub3BlbmluZ2hvdXJzX3RvX3NlY29uZFwiICkuY2hhbmdlKCBmdW5jdGlvbigpIHtcblx0XHR2YXIgZnJvbV9pZCA9ICQoIHRoaXMgKS5hdHRyKCBcImlkXCIgKS5yZXBsYWNlKCBcIl90b1wiLCBcIl9mcm9tXCIgKTtcblx0XHR2YXIgdG9faWQgPSAkKCB0aGlzICkuYXR0ciggXCJpZFwiICkucmVwbGFjZSggXCJfdG9cIiwgXCJfdG9fd3JhcHBlclwiICk7XG5cdFx0aWYgKCAkKCB0aGlzICkudmFsKCkgPT0gXCJjbG9zZWRcIiApIHtcblx0XHRcdCQoIFwiI1wiICsgdG9faWQgKS5jc3MoIFwiZGlzcGxheVwiLCBcIm5vbmVcIiApO1xuXHRcdFx0JCggXCIjXCIgKyBmcm9tX2lkICkudmFsKCBcImNsb3NlZFwiICk7XG5cdFx0fVxuXHR9ICk7XG5cblx0aWYgKCAkKCBcIi5zZXRfY3VzdG9tX2ltYWdlc1wiICkubGVuZ3RoID4gMCApIHtcblx0XHRpZiAoIHR5cGVvZiB3cCAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3cC5tZWRpYSAmJiB3cC5tZWRpYS5lZGl0b3IgKSB7XG5cdFx0XHQkKCBcIi53cmFwLCAjd3BzZW8tbG9jYWwtbWV0YWJveFwiICkub24oIFwiY2xpY2tcIiwgXCIuc2V0X2N1c3RvbV9pbWFnZXNcIiwgZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0dmFyIGJ1dHRvbiA9ICQoIHRoaXMgKTtcblx0XHRcdFx0dmFyIGlkID0gYnV0dG9uLmF0dHIoIFwiZGF0YS1pZFwiICk7XG5cblx0XHRcdFx0d3AubWVkaWEuZWRpdG9yLnNlbmQuYXR0YWNobWVudCA9IGZ1bmN0aW9uKCBwcm9wcywgYXR0YWNobWVudCApIHtcblx0XHRcdFx0XHRpZiAoIGF0dGFjaG1lbnQuaGFzT3duUHJvcGVydHkoIFwic2l6ZXNcIiApICkge1xuXHRcdFx0XHRcdFx0dmFyIHVybCA9IGF0dGFjaG1lbnQuc2l6ZXNbIHByb3BzLnNpemUgXS51cmw7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHZhciB1cmwgPSBhdHRhY2htZW50LnVybDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQkKCBcIiNcIiArIGlkICsgXCJfaW1hZ2VfY29udGFpbmVyXCIgKS5hdHRyKCBcInNyY1wiLCB1cmwgKS5zaG93KCk7XG5cdFx0XHRcdFx0JCggXCIud3BzZW8tbG9jYWwtXCIgKyBpZCArIFwiLXdyYXBwZXIgLndwc2VvLWxvY2FsLWhpZGUtYnV0dG9uXCIgKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG5cdFx0XHRcdFx0JCggXCIjaGlkZGVuX1wiICsgaWQgKS5hdHRyKCBcInZhbHVlXCIsIGF0dGFjaG1lbnQuaWQgKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHR3cC5tZWRpYS5lZGl0b3Iub3BlbiggYnV0dG9uICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdH1cblxuXHQkKCBcIi5yZW1vdmVfY3VzdG9tX2ltYWdlXCIgKS5vbiggXCJjbGlja1wiLCBmdW5jdGlvbiggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHR2YXIgaWQgPSAkKCB0aGlzICkuYXR0ciggXCJkYXRhLWlkXCIgKTtcblx0XHQkKCBcIiNcIiArIGlkICsgJ19pbWFnZV9jb250YWluZXInICkuYXR0ciggXCJzcmNcIiwgXCJcIiApLmhpZGUoKTtcblx0XHQkKCBcIiNoaWRkZW5fXCIgKyBpZCApLmF0dHIoIFwidmFsdWVcIiwgXCJcIiApO1xuXHRcdCQoIFwiLndwc2VvLWxvY2FsLVwiICsgaWQgKyBcIi13cmFwcGVyIC53cHNlby1sb2NhbC1oaWRlLWJ1dHRvblwiICkuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXHR9ICk7XG5cblx0Ly8gQ29weSBsb2NhdGlvbiBkYXRhXG5cdCQoIFwiI3dwc2VvX2NvcHlfZnJvbV9sb2NhdGlvblwiICkuY2hhbmdlKCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbG9jYXRpb25faWQgPSAkKCB0aGlzICkudmFsKCk7XG5cblx0XHRpZiAoIGxvY2F0aW9uX2lkID09IFwiXCIgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0JC5wb3N0KCB3cHNlb19sb2NhbF9kYXRhLmFqYXh1cmwsIHtcblx0XHRcdGxvY2F0aW9uX2lkOiBsb2NhdGlvbl9pZCxcblx0XHRcdHNlY3VyaXR5OiB3cHNlb19sb2NhbF9kYXRhLnNlY19ub25jZSxcblx0XHRcdGFjdGlvbjogXCJ3cHNlb19jb3B5X2xvY2F0aW9uXCIsXG5cdFx0fSwgZnVuY3Rpb24oIHJlc3VsdCApIHtcblx0XHRcdGlmICggcmVzdWx0LmNoYXJBdCggcmVzdWx0Lmxlbmd0aCAtIDEgKSA9PSAwICkge1xuXHRcdFx0XHRyZXN1bHQgPSByZXN1bHQuc2xpY2UoIDAsIC0xICk7XG5cdFx0XHR9IGVsc2UgaWYgKCByZXN1bHQuc3Vic3RyaW5nKCByZXN1bHQubGVuZ3RoIC0gMiApID09IFwiLTFcIiApIHtcblx0XHRcdFx0cmVzdWx0ID0gcmVzdWx0LnNsaWNlKCAwLCAtMiApO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZGF0YSA9ICQucGFyc2VKU09OKCByZXN1bHQgKTtcblx0XHRcdGlmICggZGF0YS5zdWNjZXNzID09IFwidHJ1ZVwiIHx8IGRhdGEuc3VjY2VzcyA9PSB0cnVlICkge1xuXG5cdFx0XHRcdGZvciAoIHZhciBpIGluIGRhdGEubG9jYXRpb24gKSB7XG5cdFx0XHRcdFx0dmFyIHZhbHVlID0gZGF0YS5sb2NhdGlvblsgaSBdO1xuXG5cdFx0XHRcdFx0aWYgKCB2YWx1ZSAhPSBudWxsICYmIHZhbHVlICE9IFwiXCIgJiYgdHlwZW9mIHZhbHVlICE9IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGkgPT0gXCJpc19wb3N0YWxfYWRkcmVzc1wiIHx8IGkgPT0gXCJtdWx0aXBsZV9vcGVuaW5nX2hvdXJzXCIgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggdmFsdWUgPT0gXCIxXCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0JCggXCIjd3BzZW9fXCIgKyBpICkuYXR0ciggXCJjaGVja2VkXCIsIFwiY2hlY2tlZFwiICk7XG5cdFx0XHRcdFx0XHRcdFx0JCggXCIub3BlbmluZy1ob3VycyAub3BlbmluZy1ob3VyLXNlY29uZFwiICkuc2xpZGVEb3duKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGkuaW5kZXhPZiggXCJvcGVuaW5nX2hvdXJzXCIgKSA+IC0xICkge1xuXHRcdFx0XHRcdFx0XHQkKCBcIiNcIiArIGkgKS52YWwoIHZhbHVlICk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQkKCBcIiN3cHNlb19cIiArIGkgKS52YWwoIHZhbHVlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9ICk7XG59ICk7XG5cbndpbmRvdy53cHNlb19zaG93X2FsbF9sb2NhdGlvbnNfc2VsZWN0Ym94ID0gZnVuY3Rpb24oIG9iaiApIHtcblx0JCA9IGpRdWVyeTtcblxuXHQkb2JqID0gJCggb2JqICk7XG5cdHZhciBwYXJlbnQgPSAkb2JqLnBhcmVudHMoIFwiLndpZGdldC1pbnNpZGVcIiApO1xuXHR2YXIgJGxvY2F0aW9uc1dyYXBwZXIgPSAkKCBcIiN3cHNlby1sb2NhdGlvbnMtd3JhcHBlclwiLCBwYXJlbnQgKTtcblxuXHRpZiAoICRvYmouaXMoIFwiOmNoZWNrZWRcIiApICkge1xuXHRcdCRsb2NhdGlvbnNXcmFwcGVyLnNsaWRlVXAoKTtcblx0fSBlbHNlIHtcblx0XHQkbG9jYXRpb25zV3JhcHBlci5zbGlkZURvd24oKTtcblx0fVxufTtcbiJdfQ==
