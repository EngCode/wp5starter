(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class GeocodingRepository{static async geoCodeAddress(e){const o=new google.maps.Geocoder;if("object"==typeof e)return new Promise((t,s)=>{o.geocode(e,(e,o)=>"OK"===o?t(e):s(o))});throw new Error("Location should be an object")}}exports.default=GeocodingRepository;

},{}],2:[function(require,module,exports){
"use strict";var _wpSeoLocalGeocodingRepository=require("./wp-seo-local-geocoding-repository.js"),_wpSeoLocalGeocodingRepository2=_interopRequireDefault(_wpSeoLocalGeocodingRepository);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}class StoreLocator{constructor(){this.searchForm=document.querySelector("#wpseo-storelocator-form"),this.searchInput=document.querySelector("#wpseo-sl-search"),this.locationDetectionButton=document.querySelector(".wpseo_use_current_location"),this.locationDetectionButtonImg=document.querySelector(".wpseo_use_current_location img"),this.latField=document.querySelector("#wpseo-sl-lat"),this.lngField=document.querySelector("#wpseo-sl-lng"),this.defaultCountry=storeLocator.defaultCountry,this.latLng="",this.locationDetection=this.locationDetection.bind(this),this.getLatLng=this.getLatLng.bind(this),this.handleSubmitForm=this.handleSubmitForm.bind(this)}addEventListeners(){document.addEventListener("click",this.locationDetection),document.addEventListener("submit",this.handleSubmitForm)}async locationDetection(t){if(t.target===this.locationDetectionButton||t.target===this.locationDetectionButtonImg){const t=this.locationDetectionButton.dataset.target,e=document.querySelector("#"+t);try{this.latLng=await this.getLatLng(),this.latField.value=this.latLng.lat,this.lngField.value=this.latLng.lng}catch(t){console.log(t)}if(!this.latLng instanceof Error)try{const t=await _wpSeoLocalGeocodingRepository2.default.geoCodeAddress({location:this.latLng});e.value=t[0].formatted_address}catch(t){console.log(t)}}}async getLatLng(){return new Promise((t,e)=>{navigator.geolocation.getCurrentPosition(e=>t({lat:parseFloat(e.coords.latitude),lng:parseFloat(e.coords.longitude)}),function(t){return e(new Error("Location detection unsuccesfull"))})})}async handleSubmitForm(t){if(t.target===this.searchForm)if(t.preventDefault(),""===this.latField.value||""===this.lngField.value){document.removeEventListener("submit",this.handleSubmitForm);const t=new Promise(async(t,e)=>{let o=this.searchInput.value;""!==this.defaultCountry&&(o+=", "+this.defaultCountry);const i=await _wpSeoLocalGeocodingRepository2.default.geoCodeAddress({address:o});this.latField.value=i[0].geometry.location.lat(),this.lngField.value=i[0].geometry.location.lng(),""!==this.latField.value&&""!==this.lngField.value&&t("success")});"success"===await t&&this.searchForm.submit()}else this.searchForm.submit()}}const storeLocatorInstance=new StoreLocator;storeLocatorInstance.addEventListeners();

},{"./wp-seo-local-geocoding-repository.js":1}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9zcmMvd3Atc2VvLWxvY2FsLWdlb2NvZGluZy1yZXBvc2l0b3J5LmpzIiwianMvc3JjL3dwLXNlby1sb2NhbC1zdG9yZS1sb2NhdG9yLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO29FQ0dlLE1BQU0sb0JBTXBCLDRCQUE2QixHQUM1QixNQUFNLEVBQVcsSUFBSSxPQUFPLEtBQUssU0FFakMsR0FBeUIsaUJBQWIsRUFDWCxPQUFPLElBQUksUUFBUyxDQUFFLEVBQVMsS0FDOUIsRUFBUyxRQUFTLEVBQVUsQ0FBRSxFQUFTLElBQ3RCLE9BQVgsRUFDRyxFQUFTLEdBR1YsRUFBUSxNQUtsQixNQUFNLElBQUksTUFBTyxpREFyQkU7OzthQ0hyQixJQUFBLCtCQUFBLFFBQUEseU1BS0EsTUFBTSxhQUtMLGNBQ0MsS0FBSyxXQUFhLFNBQVMsY0FBZSw0QkFDMUMsS0FBSyxZQUFjLFNBQVMsY0FBZSxvQkFDM0MsS0FBSyx3QkFBMEIsU0FBUyxjQUFlLCtCQUN2RCxLQUFLLDJCQUE2QixTQUFTLGNBQWUsbUNBQzFELEtBQUssU0FBVyxTQUFTLGNBQWUsaUJBQ3hDLEtBQUssU0FBVyxTQUFTLGNBQWUsaUJBQ3hDLEtBQUssZUFBaUIsYUFBYSxlQUVuQyxLQUFLLE9BQVMsR0FFZCxLQUFLLGtCQUFvQixLQUFLLGtCQUFrQixLQUFNLE1BQ3RELEtBQUssVUFBWSxLQUFLLFVBQVUsS0FBTSxNQUN0QyxLQUFLLGlCQUFtQixLQUFLLGlCQUFpQixLQUFNLE1BTXJELG9CQUNDLFNBQVMsaUJBQWtCLFFBQVMsS0FBSyxtQkFDekMsU0FBUyxpQkFBa0IsU0FBVSxLQUFLLGtCQVEzQyx3QkFBeUIsR0FFeEIsR0FBSyxFQUFFLFNBQVcsS0FBSyx5QkFBMkIsRUFBRSxTQUFXLEtBQUssMkJBQTZCLENBQ2hHLE1BQU0sRUFBZ0IsS0FBSyx3QkFBd0IsUUFBUSxPQUNyRCxFQUFtQixTQUFTLGNBQWUsSUFBTSxHQUd2RCxJQUNDLEtBQUssYUFBZSxLQUFLLFlBRXpCLEtBQUssU0FBUyxNQUFRLEtBQUssT0FBTyxJQUNsQyxLQUFLLFNBQVMsTUFBUSxLQUFLLE9BQU8sSUFDakMsTUFBUSxHQUNULFFBQVEsSUFBSyxHQUlkLElBQU8sS0FBSyxrQkFBa0IsTUFDN0IsSUFDQyxNQUFNLFFBQWdCLGdDQUFBLFFBQW9CLGVBQWdCLENBQUUsU0FBWSxLQUFLLFNBQzdFLEVBQWlCLE1BQVEsRUFBUyxHQUFJLGtCQUNyQyxNQUFRLEdBQ1QsUUFBUSxJQUFLLEtBV2pCLGtCQUNDLE9BQU8sSUFBSSxRQUFTLENBQUUsRUFBUyxLQUM5QixVQUFVLFlBQVksbUJBQXNCLEdBQ3BDLEVBQVMsQ0FDZixJQUFLLFdBQVksRUFBUyxPQUFPLFVBQ2pDLElBQUssV0FBWSxFQUFTLE9BQU8sYUFFaEMsU0FBVSxHQUNaLE9BQU8sRUFBUSxJQUFJLE1BQU8sd0NBWTdCLHVCQUF3QixHQUN2QixHQUFLLEVBQUUsU0FBVyxLQUFLLFdBR3RCLEdBRkEsRUFBRSxpQkFFMkIsS0FBeEIsS0FBSyxTQUFTLE9BQXdDLEtBQXhCLEtBQUssU0FBUyxNQUFlLENBQy9ELFNBQVMsb0JBQXFCLFNBQVUsS0FBSyxrQkFDN0MsTUFBTSxFQUFVLElBQUksUUFBUyxNQUFPLEVBQVMsS0FDNUMsSUFBSSxFQUFjLEtBQUssWUFBWSxNQUVQLEtBQXhCLEtBQUssaUJBQ1IsR0FBZSxLQUFPLEtBQUssZ0JBRzVCLE1BQU0sUUFBZ0IsZ0NBQUEsUUFBb0IsZUFBZ0IsQ0FBRSxRQUFTLElBRXJFLEtBQUssU0FBUyxNQUFRLEVBQVMsR0FBSSxTQUFTLFNBQVMsTUFDckQsS0FBSyxTQUFTLE1BQVEsRUFBUyxHQUFJLFNBQVMsU0FBUyxNQUV4QixLQUF4QixLQUFLLFNBQVMsT0FBd0MsS0FBeEIsS0FBSyxTQUFTLE9BQ2hELEVBQVMsYUFNSSxrQkFGTSxHQUdwQixLQUFLLFdBQVcsY0FHakIsS0FBSyxXQUFXLFVBTXBCLE1BQU0scUJBQXVCLElBQUksYUFFakMscUJBQXFCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyoqXG4gKiB3cHNlb0xvY2FsR2VvY29kaW5nUmVwb3NpdG9yeSBjbGFzcyBmb3IgZ2VvY29kaW5nIGFkZHJlc3Nlcy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VvY29kaW5nUmVwb3NpdG9yeSB7XG5cdC8qKlxuXHQgKiBHZW9jb2RlIHRoZSBhZGRyZXNzIGJhc2VkIHVzaW5nIHRoZSBHb29nbGUgbWFwcyBKYXZhU2NyaXB0IGdlb2NvZGluZyBBUElcblx0ICpcblx0ICogQHZhciBvYmplY3QgQW4gb2JqZWN0IGNvbnRhaW5pbmcgZWl0aGVyIHsgXCJhZGRyZXNzXCI6IDxhZGRyZXNzIGFzIGEgc3RyaW5nPiB9IG9yIHsgXCJsb2NhdGlvblwiOiA8dGhlIExhdExuZyBjb29yZGluYXRlcz59XG5cdCAqL1xuXHRzdGF0aWMgYXN5bmMgZ2VvQ29kZUFkZHJlc3MoIGxvY2F0aW9uICkge1xuXHRcdGNvbnN0IGdlb2NvZGVyID0gbmV3IGdvb2dsZS5tYXBzLkdlb2NvZGVyKCk7XG5cblx0XHRpZiAoIHR5cGVvZiBsb2NhdGlvbiA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSggKCByZXNvbHZlLCByZWplY3QgKSA9PiB7XG5cdFx0XHRcdGdlb2NvZGVyLmdlb2NvZGUoIGxvY2F0aW9uLCAoIHJlc3VsdHMsIHN0YXR1cyApID0+IHtcblx0XHRcdFx0XHRpZiAoIHN0YXR1cyA9PT0gXCJPS1wiICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc29sdmUoIHJlc3VsdHMgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gcmVqZWN0KCBzdGF0dXMgKTtcblx0XHRcdFx0fSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHRocm93IG5ldyBFcnJvciggXCJMb2NhdGlvbiBzaG91bGQgYmUgYW4gb2JqZWN0XCIgKTtcblx0fVxufSIsImltcG9ydCBHZW9Db2RpbmdSZXBvc2l0b3J5IGZyb20gXCIuL3dwLXNlby1sb2NhbC1nZW9jb2RpbmctcmVwb3NpdG9yeS5qc1wiO1xuXG4vKipcbiAqXG4gKi9cbmNsYXNzIFN0b3JlTG9jYXRvciB7XG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3RvciBmb3IgdGhlIFN0b3JlTG9jYXRvciBKUyBjbGFzcy5cblx0ICogSGVyZSB3ZSBhc3NpZ24gZmllbGRzIHRvIGNsYXNzIGNvbnN0YW50cyBhbmQgYmluZCBtZXRob2RzLlxuXHQgKi9cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5zZWFyY2hGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggXCIjd3BzZW8tc3RvcmVsb2NhdG9yLWZvcm1cIiApO1xuXHRcdHRoaXMuc2VhcmNoSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBcIiN3cHNlby1zbC1zZWFyY2hcIiApO1xuXHRcdHRoaXMubG9jYXRpb25EZXRlY3Rpb25CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBcIi53cHNlb191c2VfY3VycmVudF9sb2NhdGlvblwiICk7XG5cdFx0dGhpcy5sb2NhdGlvbkRldGVjdGlvbkJ1dHRvbkltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIFwiLndwc2VvX3VzZV9jdXJyZW50X2xvY2F0aW9uIGltZ1wiICk7XG5cdFx0dGhpcy5sYXRGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIFwiI3dwc2VvLXNsLWxhdFwiICk7XG5cdFx0dGhpcy5sbmdGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIFwiI3dwc2VvLXNsLWxuZ1wiICk7XG5cdFx0dGhpcy5kZWZhdWx0Q291bnRyeSA9IHN0b3JlTG9jYXRvci5kZWZhdWx0Q291bnRyeTtcblxuXHRcdHRoaXMubGF0TG5nID0gXCJcIjtcblxuXHRcdHRoaXMubG9jYXRpb25EZXRlY3Rpb24gPSB0aGlzLmxvY2F0aW9uRGV0ZWN0aW9uLmJpbmQoIHRoaXMgKTtcblx0XHR0aGlzLmdldExhdExuZyA9IHRoaXMuZ2V0TGF0TG5nLmJpbmQoIHRoaXMgKTtcblx0XHR0aGlzLmhhbmRsZVN1Ym1pdEZvcm0gPSB0aGlzLmhhbmRsZVN1Ym1pdEZvcm0uYmluZCggdGhpcyApO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFkZCBldmVudCBsaXN0ZW5lcnMgdG8gZmlyZSBhIGZ1bmN0aW9uIHVwb24gc3BlY2lmaWVkIGV2ZW50cy5cblx0ICovXG5cdGFkZEV2ZW50TGlzdGVuZXJzKCkge1xuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwiY2xpY2tcIiwgdGhpcy5sb2NhdGlvbkRldGVjdGlvbiApO1xuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwic3VibWl0XCIsIHRoaXMuaGFuZGxlU3VibWl0Rm9ybSApO1xuXHR9XG5cblx0LyoqXG5cdCAqIEF1dG8gZGV0ZWN0IGxvY2F0aW9uIGJhc2VkIG9uIGJyb3dzZXIgaW5mb3JtYXRpb24uXG5cdCAqXG5cdCAqIEBwYXJhbSBlIFRoZSBldmVudCBwYXNzZWQgYnkgdGhlIGV2ZW50IGxpc3RlbmVyLlxuXHQgKi9cblx0YXN5bmMgbG9jYXRpb25EZXRlY3Rpb24oIGUgKSB7XG5cdFx0Ly8gQ2hlY2sgYm90aCB0aGUgYnV0dG9uIGFuZCB0aGUgaW1hZ2UgaW4gaXQgZm9yIHRoZSBjbGljayBldmVudC5cblx0XHRpZiAoIGUudGFyZ2V0ID09PSB0aGlzLmxvY2F0aW9uRGV0ZWN0aW9uQnV0dG9uIHx8IGUudGFyZ2V0ID09PSB0aGlzLmxvY2F0aW9uRGV0ZWN0aW9uQnV0dG9uSW1nICkge1xuXHRcdFx0Y29uc3QgdGFyZ2V0SW5wdXRJZCA9IHRoaXMubG9jYXRpb25EZXRlY3Rpb25CdXR0b24uZGF0YXNldC50YXJnZXQ7XG5cdFx0XHRjb25zdCB0YXJnZXRJbnB1dEZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggXCIjXCIgKyB0YXJnZXRJbnB1dElkICk7XG5cblx0XHRcdC8vIEZpcnN0IHRyeSB0byBnZXQgdGhlIGxhdCBhbmQgbG5nIGZyb20gdGhlIGJyb3dzZXIuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHR0aGlzLmxhdExuZyA9IGF3YWl0IHRoaXMuZ2V0TGF0TG5nKCk7XG5cblx0XHRcdFx0dGhpcy5sYXRGaWVsZC52YWx1ZSA9IHRoaXMubGF0TG5nLmxhdDtcblx0XHRcdFx0dGhpcy5sbmdGaWVsZC52YWx1ZSA9IHRoaXMubGF0TG5nLmxuZztcblx0XHRcdH0gY2F0Y2ggKCBlcnJvciApIHtcblx0XHRcdFx0Y29uc29sZS5sb2coIGVycm9yICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbnRpbnVlIHRoZSBnZW9jb2RpbmcgaWYgdGhlIHJlcXVlc3RlZCBsYXQvbG5nIGZyb20gdGhlIGJyb3dzZXIgZGlkIG5vdCByZXN1bHQgaW4gYW4gZXJyb3IuXG5cdFx0XHRpZiAoICEgdGhpcy5sYXRMbmcgaW5zdGFuY2VvZiBFcnJvciApIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRjb25zdCBhZGRyZXNzID0gYXdhaXQgR2VvQ29kaW5nUmVwb3NpdG9yeS5nZW9Db2RlQWRkcmVzcyggeyBcImxvY2F0aW9uXCI6IHRoaXMubGF0TG5nIH0gKTtcblx0XHRcdFx0XHR0YXJnZXRJbnB1dEZpZWxkLnZhbHVlID0gYWRkcmVzc1sgMCBdLmZvcm1hdHRlZF9hZGRyZXNzO1xuXHRcdFx0XHR9IGNhdGNoICggZXJyb3IgKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coIGVycm9yICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogR2V0IHRoZSBMYXQgYW5kIExuZyBwb3NpdGlvbiBmcm9tIHRoZSBicm93c2VyLlxuXHQgKlxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTwqPn1cblx0ICovXG5cdGFzeW5jIGdldExhdExuZygpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoICggcmVzb2x2ZSwgcmVqZWN0ICkgPT4ge1xuXHRcdFx0bmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbiggKCBwb3NpdGlvbiApID0+IHtcblx0XHRcdFx0cmV0dXJuIHJlc29sdmUoIHtcblx0XHRcdFx0XHRsYXQ6IHBhcnNlRmxvYXQoIHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSApLFxuXHRcdFx0XHRcdGxuZzogcGFyc2VGbG9hdCggcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSApLFxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9LCBmdW5jdGlvbiggZXJyb3IgKSB7XG5cdFx0XHRcdHJldHVybiByZWplY3QoIG5ldyBFcnJvciggXCJMb2NhdGlvbiBkZXRlY3Rpb24gdW5zdWNjZXNmdWxsXCIgKSApO1xuXHRcdFx0fSApO1xuXHRcdH0gKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDYXRjaCB0aGUgc3VibWl0IGV2ZW50IGFuZCBjaGVjayB3aGV0aGVyIHBvc3NpYmx5IHRoZSBsYXQvbG5nIGRhdGEgaGFzIHRvIGJlIGNhbGN1bGF0ZWQuXG5cdCAqXG5cdCAqIEBwYXJhbSBlIFRoZSBldmVudCBwYXNzZWQgYnkgdGhlIGV2ZW50IGxpc3RlbmVyLlxuXHQgKlxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cblx0ICovXG5cdGFzeW5jIGhhbmRsZVN1Ym1pdEZvcm0oIGUgKSB7XG5cdFx0aWYgKCBlLnRhcmdldCA9PT0gdGhpcy5zZWFyY2hGb3JtICkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRpZiAoIHRoaXMubGF0RmllbGQudmFsdWUgPT09IFwiXCIgfHwgdGhpcy5sbmdGaWVsZC52YWx1ZSA9PT0gXCJcIiApIHtcblx0XHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJzdWJtaXRcIiwgdGhpcy5oYW5kbGVTdWJtaXRGb3JtICk7XG5cdFx0XHRcdGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSggYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRcdGxldCBzZWFyY2hRdWVyeSA9IHRoaXMuc2VhcmNoSW5wdXQudmFsdWU7XG5cblx0XHRcdFx0XHRpZiggdGhpcy5kZWZhdWx0Q291bnRyeSAhPT0gJycgKSB7XG5cdFx0XHRcdFx0XHRzZWFyY2hRdWVyeSArPSAnLCAnICsgdGhpcy5kZWZhdWx0Q291bnRyeTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb25zdCByZXN1bHRzID0gYXdhaXQgR2VvQ29kaW5nUmVwb3NpdG9yeS5nZW9Db2RlQWRkcmVzcyggeyBhZGRyZXNzOiBzZWFyY2hRdWVyeSB9ICk7XG5cblx0XHRcdFx0XHR0aGlzLmxhdEZpZWxkLnZhbHVlID0gcmVzdWx0c1sgMCBdLmdlb21ldHJ5LmxvY2F0aW9uLmxhdCgpO1xuXHRcdFx0XHRcdHRoaXMubG5nRmllbGQudmFsdWUgPSByZXN1bHRzWyAwIF0uZ2VvbWV0cnkubG9jYXRpb24ubG5nKCk7XG5cblx0XHRcdFx0XHRpZiAoIHRoaXMubGF0RmllbGQudmFsdWUgIT09IFwiXCIgJiYgdGhpcy5sbmdGaWVsZC52YWx1ZSAhPT0gXCJcIiApIHtcblx0XHRcdFx0XHRcdHJlc29sdmUoICdzdWNjZXNzJyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgcHJvbWlzZTtcblxuXHRcdFx0XHRpZiggcmVzdWx0ID09PSAnc3VjY2VzcycgKSB7XG5cdFx0XHRcdFx0dGhpcy5zZWFyY2hGb3JtLnN1Ym1pdCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnNlYXJjaEZvcm0uc3VibWl0KCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbmNvbnN0IHN0b3JlTG9jYXRvckluc3RhbmNlID0gbmV3IFN0b3JlTG9jYXRvcigpO1xuXG5zdG9yZUxvY2F0b3JJbnN0YW5jZS5hZGRFdmVudExpc3RlbmVycygpO1xuIl19
